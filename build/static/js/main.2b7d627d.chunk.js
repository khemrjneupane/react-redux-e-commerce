(this["webpackJsonpecommerce-rect-node"]=this["webpackJsonpecommerce-rect-node"]||[]).push([[0],{33:function(e,t,a){},49:function(e,t,a){e.exports=a(79)},79:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),l=a.n(c),i=a(11),s=(a(33),a(44)),o=a.n(s),u=a(45),m=a.n(u),E=a(3),p=a.n(E),d=a(8),f=a(20),_=a.n(f),v="https://pdf-node.herokuapp.com/api/items",b={getAll:function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get(v);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getById:function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat(v,"/").concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),create:function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.post("https://pdf-node.herokuapp.com/api/create-pdf",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getPdf:function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("https://pdf-node.herokuapp.com/api/fetch-pdf",{responseType:"blob"});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},T=a(6),h=a(2),I={ITEM_LIST_REQUEST:"ITEM_LIST_REQUEST",ITEM_LIST_OK:"ITEM_LIST_OK",ITEM_LIST_X:"ITEM_LIST_X",ITEM_DETAIL_REQUEST:"ITEM_DETAIL_REQUEST",ITEM_DETAIL_OK:"ITEM_DETAIL_OK",ITEM_DETAIL_X:"ITEM_DETAIL_X",BASKET_ADD_ITEM_REQ:"BASKET_ADD_ITEM_REQ",BASKET_ADD_ITEM_OK:"BASKET_ADD_ITEM_OK",BASKET_ADD_ITEM_X:"BASKET_ADD_ITEM_X",BASKET_REMOVE_ITEM_REQ:"BASKET_REMOVE_ITEM",BASKET_REMOVE_ITEM_OK:"BASKET_REMOVE_ITEM_OK",BASKET_REMOVE_ITEM_X:"BASKET_REMOVE_ITEM_X"},g=function(e){var t=Object(i.c)((function(e){return e.itemList})),a=t.items,c=t.loading,l=t.error,s=Object(i.b)();return Object(n.useEffect)((function(){s(function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:I.ITEM_LIST_REQUEST}),e.next=4,b.getAll();case 4:a=e.sent,n=a.data,t({type:I.ITEM_LIST_OK,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:I.ITEM_LIST_X,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[]),c?r.a.createElement("div",null,"Loading..."):l?r.a.createElement("div",null,l):r.a.createElement("ul",{className:"items"},a.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("div",{className:"item"},r.a.createElement(T.b,{to:"/item/".concat(e.id)}," ",r.a.createElement("img",{className:"item-image",src:e.image,alt:"jersey-shirt-dress-maroon"})),r.a.createElement("div",{className:"item-name"},r.a.createElement(T.b,{to:"/item/".concat(e.id)},e.name)),r.a.createElement("div",{className:"item-brand"},e.brand),r.a.createElement("div",{className:"item-price"},"\u20ac ",e.price),r.a.createElement("div",{className:"item-rating"},r.a.createElement("small",null,e.rating," Stars (",e.numReviews," Reviews)"))))})))},k=a(17),y=a(19),O=a(25),S=a.n(O),M=function(e){var t=Object(n.useState)(1),a=Object(y.a)(t,2),c=a[0],l=a[1],s=Object(i.c)((function(e){return e.itemDetailList})),o=s.item,u=s.loading,m=s.error,E=Object(i.b)();Object(n.useEffect)((function(){var t;E((t=e.match.params.id,function(){var e=Object(d.a)(p.a.mark((function e(a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:I.ITEM_DETAIL_REQUEST}),e.next=4,b.getById(t);case 4:n=e.sent,r=n.data,a({type:I.ITEM_DETAIL_OK,payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:I.ITEM_DETAIL_X,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))}),[]);return r.a.createElement("div",null,r.a.createElement("div",{className:"back-btn"},r.a.createElement(T.b,{to:"/"},r.a.createElement(S.a,null)," Back home")),u?r.a.createElement("div",null,"Loading..."):m?r.a.createElement("div",null,m," "):r.a.createElement("div",{className:"details"},r.a.createElement("div",{className:"details-image"},r.a.createElement("img",{src:o.image,alt:"item"})),r.a.createElement("div",{className:"details-info"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("h4",null,o.name)),r.a.createElement("li",null,o.rating," Stars (",o.numReviews," Reviews)"),r.a.createElement("li",null,"Price: ",r.a.createElement("strong",null,"\u20ac",o.price)),r.a.createElement("li",null,"Description:",r.a.createElement("div",null,o.description)))),r.a.createElement("div",{className:"details-action"},r.a.createElement("ul",null,r.a.createElement("li",null,"Price: ",o.price),r.a.createElement("li",null,"Status: ",o.stockCount?"Available in stock":"Out of Stock !!"),r.a.createElement("li",null,"Quantity:"," ",r.a.createElement("select",{value:c,onChange:function(e){return l(e.target.value)}},Object(k.a)(Array(o.stockCount)).map((function(e,t){return r.a.createElement("option",{key:t,value:t+1},t+1)})))),r.a.createElement("li",null,o.stockCount>0&&r.a.createElement("button",{onClick:function(){e.history.push("/basket/"+e.match.params.id+"?quantity="+c)},className:"button primary"},"Add to Cart")),r.a.createElement("li",null,!o.stockCount&&r.a.createElement(T.b,{to:"/"},"Back to Item Lists"))))))},A=a(43),D=a(28),L=a.n(D),j=function(e,t){return function(){var a=Object(d.a)(p.a.mark((function a(n,r){var c,l,i;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,b.getById(e);case 3:c=a.sent,l=c.data,n({type:I.BASKET_ADD_ITEM_REQ}),n({type:I.BASKET_ADD_ITEM_OK,payload:{id:l.id,name:l.name,image:l.image,price:l.price,stockCount:l.stockCount,quantity:t}}),i=r(),i.shoppingBasket.basketItems,a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),n({type:I.BASKET_ADD_ITEM_X,payload:a.t0.message});case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e,t){return a.apply(this,arguments)}}()},w=function(e){var t=Object(i.c)((function(e){return e.shoppingBasket})),a=t.basketItems,c=t.loading;t.error;console.log("shoppingBasket ",t);var l=Object(n.useState)(""),s=Object(y.a)(l,2),o=s[0],u=s[1],m=Object(n.useState)({}),E=Object(y.a)(m,2),f=E[0],_=E[1],v=e.match.params.id,h=e.location.search?Number(e.location.search.split("=")[1]):1,I=Object(i.b)();Object(n.useEffect)((function(){c||a.map((function(e){_({buyer_name:"Mr. Buyer Neupane",name:e.name,purchasedId:e.id,price1:e.price,price2:e.price})}))}),[t]),Object(n.useEffect)((function(){v&&I(j(v,h))}),[]);var g=function(){var e=Object(d.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u("view receipt"),e.next=4,b.create(f);case 4:return e.next=6,b.getPdf();case 6:t=e.sent,a=new Blob([t.data],{type:"application/pdf"}),Object(A.saveAs)(a,"newReceipt.pdf"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"basket"},r.a.createElement("div",{className:"basket-list"},r.a.createElement("ul",{className:"basket-list-container"},r.a.createElement("li",null,r.a.createElement("h3",null,r.a.createElement("div",null,r.a.createElement(T.b,{to:"/pdf"},o),r.a.createElement("button",{onClick:g},"Download receipt")))),c?r.a.createElement("div",null,"Your basket is empty"):a.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("div",{className:"basket-image"},r.a.createElement("img",{src:e.image,alt:"item"})),r.a.createElement("div",{className:"basket-name"},r.a.createElement("div",null,r.a.createElement(T.b,{to:"/item/"+e.id},e.name)),r.a.createElement("div",null,"Quantity:",r.a.createElement("select",{value:e.quantity,onChange:function(t){return I(j(e.id,t.target.value))}},Object(k.a)(Array(e.stockCount)).map((function(e,t){return r.a.createElement("option",{key:t,value:t+1},t+1)}))),r.a.createElement("button",{type:"button",className:"button",onClick:function(e){return window.alert(e.target.value)}},"Delete"))),r.a.createElement("div",{className:"basket-price"},"$",e.price))})))))},N=function(){return r.a.createElement("div",{className:"back-btn"},r.a.createElement(T.b,{to:"/"},r.a.createElement(S.a,null)," Back home"),r.a.createElement("div",null,r.a.createElement("embed",{src:"https://pdf-node.herokuapp.com/api/fetch-pdf",width:"100%",height:"1000px"})))},K=function(){return r.a.createElement(T.a,null,r.a.createElement("div",{className:"grid-container"},r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"brand"},r.a.createElement("button",{onClick:function(){document.querySelector(".sidebar").classList.add("open")}},r.a.createElement(o.a,{fontSize:"large"})),r.a.createElement(T.b,{to:"/"},"Shopping Land")),r.a.createElement("div",{className:"header-links"},r.a.createElement("a",{href:"index.html"},"My Cart"),r.a.createElement("a",{href:"index.html"},"Log In"))),r.a.createElement("aside",{className:"sidebar"},r.a.createElement("h3",null,"Shopping Categories"),r.a.createElement("button",{className:"sidebar-close-button",onClick:function(){document.querySelector(".sidebar").classList.remove("open")}},r.a.createElement(m.a,{fontSize:"large"})),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"index.html"},"Trousers")),r.a.createElement("li",null,r.a.createElement("a",{href:"index.html"},"Vests")))),r.a.createElement("main",{className:"main"},r.a.createElement("div",{className:"content"},r.a.createElement(h.a,{exact:!0,path:"/item/:id",component:M}),r.a.createElement(h.a,{exact:!0,path:"/",render:function(){return r.a.createElement(g,null)}}),r.a.createElement(h.a,{exact:!0,path:"/pdf",render:function(){return r.a.createElement(N,null)}}),r.a.createElement(h.a,{exact:!0,path:"/basket/:id?",component:w}))),r.a.createElement("footer",{className:"footer"},"at All rights reserved.")))},x=a(16),B=a(46),R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I.ITEM_LIST_REQUEST:return{loading:!0};case I.ITEM_LIST_OK:return{loading:!1,items:t.payload};case I.ITEM_LIST_X:return{loading:!1,error:t.payload};default:return e}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{item:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I.ITEM_DETAIL_REQUEST:return{loading:!0};case I.ITEM_DETAIL_OK:return{loading:!1,item:t.payload};case I.ITEM_DETAIL_X:return{loading:!1,error:t.payload};default:return e}},Q=a(47);var X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{basketItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I.BASKET_ADD_ITEM_REQ:return{loading:!0};case I.BASKET_ADD_ITEM_OK:t.payload;return{loading:!1,basketItems:[].concat(Object(k.a)(e.basketItems),[t.payload])};case I.BASKET_ADD_ITEM_X:return{loading:!1,error:t.payload};default:return e}},U=(L.a.getJSON("basketItems"),Object(x.combineReducers)({itemList:R,itemDetailList:C,shoppingBasket:X})),V=Object(x.createStore)(U,{},Object(Q.composeWithDevTools)(Object(x.applyMiddleware)(B.a)));l.a.render(r.a.createElement(i.a,{store:V},r.a.createElement(K,null)),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.2b7d627d.chunk.js.map