{"version":3,"sources":["services/items.js","constants/itemConstants.js","Views/HomeView.js","actions/itemActions.js","Views/ItemsView.js","actions/itemDetailAction.js","actions/basketAction.js","Views/BasketView.js","Views/ViewReceipt.js","App.js","reducers/itemListReducer.js","reducers/itemDetailReducer.js","reducers/basketReducer.js","store.js","index.js"],"names":["baseUrl","getAll","a","axios","get","request","getById","itemId","create","newObject","post","getPdf","responseType","data","ActionTypes","ITEM_LIST_REQUEST","ITEM_LIST_OK","ITEM_LIST_X","ITEM_DETAIL_REQUEST","ITEM_DETAIL_OK","ITEM_DETAIL_X","BASKET_ADD_ITEM_REQ","BASKET_ADD_ITEM_OK","BASKET_ADD_ITEM_X","BASKET_REMOVE_ITEM_REQ","BASKET_REMOVE_ITEM_OK","BASKET_REMOVE_ITEM_X","HomeView","props","itemList","useSelector","state","items","loading","error","dispatch","useDispatch","useEffect","type","itemService","payload","message","className","map","p","index","key","to","id","src","image","alt","name","brand","price","rating","numReviews","ItemsView","useState","quantity","setQuantity","itemDetailList","item","match","params","description","stockCount","value","onChange","e","target","Array","onClick","history","push","addToBasket","getState","shoppingBasket","basketItems","BasketView","console","log","pdfMsg","setPdfMsg","myStates","setMyStates","location","search","Number","split","buyer_name","purchasedId","price1","price2","createAndDownloadPdf","pdfService","res","pdfBlob","Blob","saveAs","window","alert","ViewReceipt","width","height","App","document","querySelector","classList","add","fontSize","href","remove","exact","path","component","render","itemListReducer","action","itemDetailReducer","basketReducer","reducer","Cookie","getJSON","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.2b7d627d.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = 'https://pdf-node.herokuapp.com/api/items'\nconst createPdfUrl = 'https://pdf-node.herokuapp.com/api/create-pdf'\nconst getPdfUrl = 'https://pdf-node.herokuapp.com/api/fetch-pdf' \n\nconst getAll = async () => {\n    const request = await axios.get(baseUrl)\n    return request\n}\n\nconst getById = async (itemId) => {\n    const request = await axios.get(`${baseUrl}/${itemId}`)\n    return request\n}\n\nconst create = async (newObject) => {\n    const request = await axios.post(createPdfUrl, newObject);\n    return request;\n  };\n  const getPdf = async () => {\n    const request = await axios.get(getPdfUrl,{ responseType: 'blob' })\n    return request.data\n}\nexport default { getAll, getById, create, getPdf }","\nconst ActionTypes = {\n    // Items All Action Types\n    ITEM_LIST_REQUEST: \"ITEM_LIST_REQUEST\",\n    ITEM_LIST_OK: \"ITEM_LIST_OK\",\n    ITEM_LIST_X: \"ITEM_LIST_X\",\n    // Item Details Action Types\n    ITEM_DETAIL_REQUEST: \"ITEM_DETAIL_REQUEST\",\n    ITEM_DETAIL_OK: \"ITEM_DETAIL_OK\",\n    ITEM_DETAIL_X: \"ITEM_DETAIL_X\", \n    // Shopping Basket Action Types\n    BASKET_ADD_ITEM_REQ: \"BASKET_ADD_ITEM_REQ\",\n    BASKET_ADD_ITEM_OK: \"BASKET_ADD_ITEM_OK\",\n    BASKET_ADD_ITEM_X: \"BASKET_ADD_ITEM_X\",\n    \n    BASKET_REMOVE_ITEM_REQ: \"BASKET_REMOVE_ITEM\",\n    BASKET_REMOVE_ITEM_OK: \"BASKET_REMOVE_ITEM_OK\",\n    BASKET_REMOVE_ITEM_X: \"BASKET_REMOVE_ITEM_X\",\n  };\n  \n  export default ActionTypes;","import React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {listItems} from \"../actions/itemActions\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nconst HomeView = (props) => {\n  const itemList = useSelector(state => state.itemList);\n  const { items, loading, error } = itemList;\n  const dispatch = useDispatch();\n\nuseEffect(() => {\n  dispatch(listItems());\n}, [])\n\n\n  return (\n    loading ? <div>Loading...</div> :\n    error ? <div>{error}</div> :\n    <ul className=\"items\">\n      {items.map((p, index) => (\n        <li key={index}>\n          <div className=\"item\">\n            <Link to={`/item/${p.id}`}>\n              {\" \"}\n              <img\n                className=\"item-image\"\n                src={p.image}\n                alt=\"jersey-shirt-dress-maroon\"\n              />\n            </Link>\n            <div className=\"item-name\">\n              <Link to={`/item/${p.id}`}>{p.name}</Link>\n            </div>\n            <div className=\"item-brand\">{p.brand}</div>\n            <div className=\"item-price\">€ {p.price}</div>\n            <div className=\"item-rating\">\n              <small>\n                {p.rating} Stars ({p.numReviews} Reviews)\n              </small>\n            </div>\n          </div>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default HomeView;\n","import itemService from \"../services/items\";\nimport ActionTypes from \"../constants/itemConstants\";\nconst listItems = () => async (dispatch) => {\n  try {\n    dispatch({ type: ActionTypes.ITEM_LIST_REQUEST });\n    const {data} = await itemService.getAll();\n    dispatch({ type: ActionTypes.ITEM_LIST_OK, payload: data });\n  } catch (error) {\n    dispatch({ type: ActionTypes.ITEM_LIST_X, payload: error.message });\n  }\n};\n\nexport { listItems };\n","import React, { useEffect, useState } from \"react\";\n\nimport { Link } from \"react-router-dom\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { itemDetailAction } from \"../actions/itemDetailAction\";\n\nconst ItemsView = (props) => {\n  const [quantity, setQuantity] = useState(1);\n\n  const itemDetailList = useSelector((state) => state.itemDetailList);\n\n  const { item, loading, error } = itemDetailList;\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(itemDetailAction(props.match.params.id));\n  }, []);\n  /**handleAddToBasket is a function just to redirect user to a new URL with given parameters */\n  const handleAddToBasket = () => {\n    props.history.push(\n      \"/basket/\" + props.match.params.id + \"?quantity=\" + quantity\n    );\n  };\n\n  return (\n    <div>\n      <div className=\"back-btn\">\n        <Link to=\"/\">\n          <ArrowBackIcon /> Back home\n        </Link>\n      </div>\n      {loading ? (\n        <div>Loading...</div>\n      ) : error ? (\n        <div>{error} </div>\n      ) : (\n        <div className=\"details\">\n          <div className=\"details-image\">\n            <img src={item.image} alt=\"item\"></img>\n          </div>\n          <div className=\"details-info\">\n            <ul>\n              <li>\n                <h4>{item.name}</h4>\n              </li>\n              <li>\n                {item.rating} Stars ({item.numReviews} Reviews)\n              </li>\n              <li>\n                Price: <strong>€{item.price}</strong>\n              </li>\n              <li>\n                Description:\n                <div>{item.description}</div>\n              </li>\n            </ul>\n          </div>\n          <div className=\"details-action\">\n            <ul>\n              <li>Price: {item.price}</li>\n              <li>Status: {item.stockCount ? \"Available in stock\" : \"Out of Stock !!\"}</li>\n              \n              <li>\n                Quantity:{\" \"}\n                <select\n                  value={quantity}\n                  onChange={(e) => setQuantity(e.target.value)}\n                >\n                  {[...Array(item.stockCount)].map((a, index) => (\n                    <option key={index} value={index + 1}>\n                      {index + 1}\n                    </option>\n                  ))}\n                </select>\n              </li>\n              <li>\n                {item.stockCount > 0 && <button onClick={handleAddToBasket} className=\"button primary\">\n                  Add to Cart\n                </button>\n                }\n                \n              </li>\n              <li>{!item.stockCount ? (<Link to =\"/\">Back to Item Lists</Link>): false}</li>\n            </ul>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ItemsView;\n","import itemService from \"../services/items\";\nimport ActionTypes from \"../constants/itemConstants\";\nconst itemDetailAction = (itemId) => async (dispatch) => {\n  try {\n    dispatch({ type: ActionTypes.ITEM_DETAIL_REQUEST });\n    const {data} = await itemService.getById(itemId);\n   \n\n    dispatch({ type: ActionTypes.ITEM_DETAIL_OK, payload: data });\n  } catch (error) {\n    dispatch({ type: ActionTypes.ITEM_DETAIL_X, payload: error.message });\n  }\n};\n\nexport { itemDetailAction };\n","import itemService from \"../services/items\";\nimport ActionTypes from \"../constants/itemConstants\";\nimport Cookie from 'js-cookie'\n\nconst addToBasket = (itemId, quantity) => async (dispatch, getState) => {\n  try {\n    const  {data}  = await itemService.getById(itemId);\n \n    dispatch({ type: ActionTypes.BASKET_ADD_ITEM_REQ });\n    dispatch({ type: ActionTypes.BASKET_ADD_ITEM_OK,\n        payload:{\n          id: data.id,\n          name: data.name,\n          image: data.image,\n          price: data.price,\n          stockCount: data.stockCount,\n          quantity\n        }});\n    const {shoppingBasket:{basketItems}} = getState();\n    //Cookie.set(\"basketItems\", JSON.stringify(basketItems));\n \n  } catch (error) {\n    dispatch({ type: ActionTypes.BASKET_ADD_ITEM_X, payload: error.message });\n  }\n};\n\nexport { addToBasket };","import React, { useEffect, useState } from 'react';\nimport { saveAs } from \"file-saver\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { addToBasket } from '../actions/basketAction';\n\nimport pdfService from \"../services/items\";\nconst BasketView = (props) => {\n\n  const shoppingBasket = useSelector(state => state.shoppingBasket);\n  const { basketItems, loading, error } = shoppingBasket;\nconsole.log(\"shoppingBasket \", shoppingBasket)\n  const [pdfMsg, setPdfMsg] = useState('');\n  const [myStates, setMyStates] = useState({})\n\n  const itemId = props.match.params.id;\n\n  const quantity = props.location.search ? Number(props.location.search.split(\"=\")[1]) : 1;\n  const dispatch = useDispatch();\n\n  useEffect(()=>{\n    if(!loading){\n      basketItems.map(item => {\n         setMyStates({\n           buyer_name:\"Mr. Buyer Neupane\",\n           name:item.name,\n           purchasedId:item.id,\n           price1:item.price,\n           price2:item.price\n         })\n       });\n     }\n  },[shoppingBasket])\n\n  useEffect(() => {\n    if (itemId) {\n      dispatch(addToBasket(itemId, quantity));\n    }\n  }, []);\n\n  const createAndDownloadPdf = async () => {\n   \n    try {\n      setPdfMsg('view receipt');\n      await pdfService.create(myStates);\n      const res = await pdfService.getPdf();\n      const pdfBlob = new Blob([res.data], { type: \"application/pdf\" });\n      saveAs(pdfBlob, \"newReceipt.pdf\");\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n\n \n  return <div className=\"basket\">\n  <div className=\"basket-list\">\n    <ul className=\"basket-list-container\">\n      <li>\n        <h3>\n        <div>\n        <Link to=\"/pdf\">{pdfMsg}</Link>\n        <button onClick={createAndDownloadPdf}>Download receipt</button>\n     \n    </div>\n        </h3>\n       \n      </li>\n      {\n       loading ?\n          <div>\n           Your basket is empty\n        </div>\n          :\n          basketItems.map(item =>\n            <li key = {item.id}>\n              <div className=\"basket-image\">\n                <img src={item.image} alt=\"item\" />\n              </div>\n              <div className=\"basket-name\">\n                <div>\n                  <Link to={\"/item/\" + item.id}>\n                    {item.name}\n                  </Link>\n\n                </div>\n                <div>\n                    Quantity:\n                  <select value={item.quantity} onChange={(e) => dispatch(addToBasket(item.id, e.target.value))}>\n                  {[...Array(item.stockCount)].map((a, index) => (\n                    <option key={index} value={index + 1}>\n                      {index + 1}\n                    </option>\n                  ))}\n                    </select>\n                    <button type=\"button\" className=\"button\" onClick={(e) =>window.alert(e.target.value)} >\n                      Delete\n                    </button>\n                  </div>                \n           \n              </div>\n              <div className=\"basket-price\">\n                ${item.price}\n              </div>\n            </li>\n          \n\n          )\n      }\n    </ul>\n\n  </div>\n\n</div>\n}\n\nexport default BasketView;","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nconst ViewReceipt = () => {\n\n  return (\n    <div className=\"back-btn\">\n    <Link to=\"/\">\n      <ArrowBackIcon /> Back home\n    </Link>\n    <div>\n        <embed src=\"https://pdf-node.herokuapp.com/api/fetch-pdf\" width=\"100%\" height=\"1000px\" />\n    </div>\n  </div>\n\n  );\n};\n\nexport default ViewReceipt;\n","import React, { useState, useEffect } from \"react\";\nimport DehazeIcon from \"@material-ui/icons/Dehaze\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\n\nimport itemService from \"./services/items\";\nimport \"./index.css\";\nimport { BrowserRouter, Route, Link } from \"react-router-dom\";\nimport HomeView from \"./Views/HomeView\";\nimport ItemsView from \"./Views/ItemsView\";\nimport BasketView from \"./Views/BasketView\";\nimport ViewReceipt from \"./Views/ViewReceipt\";\n\n\nconst App = () => {\n\n  const onMenuClickOpen = () => {\n    document.querySelector(\".sidebar\").classList.add(\"open\");\n  };\n  const onMenuClickClose = () => {\n    document.querySelector(\".sidebar\").classList.remove(\"open\");\n  };\n  return (\n    <BrowserRouter>\n      <div className=\"grid-container\">\n        <header className=\"header\">\n          <div className=\"brand\">\n            <button onClick={() => onMenuClickOpen()}>\n              <DehazeIcon fontSize=\"large\" />\n            </button>\n            <Link to=\"/\">Shopping Land</Link>\n          </div>\n          <div className=\"header-links\">\n            <a href=\"index.html\">My Cart</a>\n            <a href=\"index.html\">Log In</a>\n          </div>\n        </header>\n        <aside className=\"sidebar\">\n          \n          <h3>Shopping Categories</h3>\n          <button\n            className=\"sidebar-close-button\"\n            onClick={() => onMenuClickClose()}\n          >\n            <CancelIcon fontSize=\"large\" />\n          </button>\n          <ul>\n            <li>\n              <a href=\"index.html\">Trousers</a>\n            </li>\n\n            <li>\n              <a href=\"index.html\">Vests</a>\n            </li>\n          </ul>\n        </aside>\n\n        <main className=\"main\">\n          <div className=\"content\">\n            <Route\n              exact\n              path=\"/item/:id\"\n              component={ItemsView}\n            />\n            <Route exact path=\"/\" render={() => <HomeView  />} />\n            <Route exact path=\"/pdf\" render={() => <ViewReceipt  />} />\n            <Route\n              exact\n              path=\"/basket/:id?\"\n              component={BasketView}\n            />\n          </div>\n        </main>\n        <footer className=\"footer\">at All rights reserved.</footer>\n      </div>\n    </BrowserRouter>\n\n  );\n};\n\nexport default App;\n","import ActionTypes from \"../constants/itemConstants\";\n\n  const itemListReducer = (state = {items:[]}, action) => {\n   \n    switch (action.type) {\n        case ActionTypes.ITEM_LIST_REQUEST:\n          return { loading: true };\n        case ActionTypes.ITEM_LIST_OK:\n          \n          \n          return { loading: false, items: action.payload };\n        case ActionTypes.ITEM_LIST_X:\n          return { loading: false, error: action.payload }\n        default:\n          return state;\n      }\n  };\n  export default itemListReducer\n","import ActionTypes from \"../constants/itemConstants\";\n\n  const itemDetailReducer = (state = {item:{}}, action) => {\n    \n    switch (action.type) {\n        case ActionTypes.ITEM_DETAIL_REQUEST:\n          return { loading: true };\n        case ActionTypes.ITEM_DETAIL_OK:\n          return { loading: false, item: action.payload };\n        case ActionTypes.ITEM_DETAIL_X:\n          return { loading: false, error: action.payload }\n        default:\n          return state;\n      }\n  };\n  export default itemDetailReducer\n","import ActionTypes from \"../constants/itemConstants\";\n\nfunction basketReducer(state = {basketItems:[]}, action){\n  switch (action.type) {\n\n    case ActionTypes.BASKET_ADD_ITEM_REQ:\n      return { loading: true };\n\n    case ActionTypes.BASKET_ADD_ITEM_OK:\n      \n      const item = action.payload;\n      \n      //return {loading:false, basketItems: [...state.basketItems.concat(item)] };\n      return {loading:false, basketItems:[...state.basketItems,action.payload]}\n  \n    case ActionTypes.BASKET_ADD_ITEM_X:\n      return {loading: false, error: action.payload}  \n    default:\n      return state;\n  }\n};\nexport default basketReducer;\n","import { createStore, combineReducers, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport itemListReducer from \"./reducers/itemListReducer\";\nimport itemDetailReducer from \"./reducers/itemDetailReducer\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport basketReducer from \"./reducers/basketReducer\";\nimport Cookie from 'js-cookie';\nconst basketItems = Cookie.getJSON(\"basketItems\") || [];\n\nconst initialState = {};\n\nconst reducer = combineReducers({\n  itemList: itemListReducer,\n  itemDetailList: itemDetailReducer,\n  shoppingBasket: basketReducer\n});\nconst store = createStore(reducer, initialState, composeWithDevTools(applyMiddleware(thunk)));\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from \"react-redux\";\nimport './index.css';\nimport App from './App';\n\n\nimport store from \"./store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>, document.getElementById('root'));\n"],"sourceRoot":""}